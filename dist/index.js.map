{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["const getCursor = () => {\n  const cursor = document.createElement('span');\n  cursor.classList.add('ityped-cursor');\n  cursor.textContent = '|';\n  return cursor\n}\n\nconst insertCursor = (element, cursor) => element.insertAdjacentElement('afterend', cursor);\nconst appendElement = parent => child => document.querySelector(parent).appendChild(child)\nconst getElement = el => document.querySelector(el)\n\n\n/**\n * @name setProps\n * @description Set the ityped properties configuration\n * @param {Object} config The configuration properties\n * @return {Promise}\n */\nconst setProps = ({\n  strings = ['AEIOU asiahsa skaonsa', 'SZsiasa'],\n  typeSpeed = 100,\n  backSpeed = 300,\n  backDelay = 100,\n  startDelay = 100,\n  showCursor = true,\n  loop = true\n}) => ({\n  strings,\n  typeSpeed,\n  backSpeed,\n  backDelay,\n  startDelay,\n  showCursor,\n  loop\n})\n\nconst startLoop = (element, props) => {\n  const times = []\n  const { strings, startDelay, typeSpeed, backSpeed, backDelay, loop } = props\n  const len = strings.length\n  for (let i=0; i < strings.length; i++) {\n    const len = strings[i].length\n    const nextTime = (len * typeSpeed) + startDelay + ( len * backSpeed ) + backDelay\n    times.push(nextTime)\n    const time = i === 0 ? startDelay : times[i-1]\n    startWriting(element, i, props, time)\n  }\n}\nconst init = (el, config) => {\n  const props = setProps(config)\n  const element = getElement(el)\n  const initCursor = appendElement(el)\n  insertCursor(element, getCursor())\n  const times = []\n  startLoop(element, props)\n}\n\nconst startWriting = (el, position, props, time) => {\n  const word = props.strings[position]\n  let i = 0\n  const startTick = window.setTimeout(() => {\n    Array.from(word)\n      .forEach((letter, i) =>\n        setTimeout(() => typeString(word, i, el, props), props.typeSpeed * (i + 1))\n      )\n  }, time)\n}\n\nconst typeString = (word, i, el, props) => {\n  if (i === word.length - 1) {\n    return window.setTimeout(() => {\n      let k = 0\n      let tick\n      for (let l = word.length -1; l >= 0; l--) {\n        k += 1\n        tick = setTimeout(() => eraseString(l, el, props, word), props.backSpeed * k)\n      }\n      clearTimeout(tick)\n    }, props.backDelay)\n  }\n  el.innerHTML += word[i]\n}\n\nconst eraseString = ( i, el, props, word ) => {\n  el.innerHTML = el.innerHTML.substring(0, --i)\n  if ( i === 0 && props.strings.indexOf(word) === props.strings.length - 1 && props.loop) {\n      startLoop(el, props)\n  }\n}\n\n\nexport {\n  init\n}"],"names":["getCursor","cursor","document","createElement","classList","add","textContent","insertCursor","element","insertAdjacentElement","getElement","querySelector","el","setProps","strings","typeSpeed","backSpeed","backDelay","startDelay","showCursor","loop","startLoop","props","times","len","length","i","nextTime","push","time","init","config","startWriting","position","word","startTick","window","setTimeout","from","forEach","letter","typeString","k","tick","l","eraseString","innerHTML","substring","indexOf"],"mappings":"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"}