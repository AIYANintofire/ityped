{"version":3,"file":"index.js","sources":["../src/props.js","../src/element.js","../src/cursor.js","../src/writing.js","../src/index.js"],"sourcesContent":["/**\n * @name setProps\n * @description Set the ityped properties configuration\n * @param {Object} config The configuration properties\n * @return {Promise}\n */\nexport const setProps = ({\n  strings = ['Put your strings here...', 'and Enjoy!'],\n  typeSpeed = 100,\n  backSpeed = 50,\n  backDelay = 500,\n  startDelay = 500,\n  cursorChar = '|',\n  showCursor = true,\n  disableBackTyping = false,\n  onFinished =  function(){},\n  loop = true\n}) => ({\n  strings,\n  typeSpeed,\n  backSpeed,\n  cursorChar,\n  backDelay,\n  startDelay,\n  showCursor,\n  loop,\n  disableBackTyping,  \n  onFinished\n})","export const getElement = element => \n  typeof element === \"string\" \n    ? document.querySelector(element)\n    : element","export const getCursor = props  => {\n  const { cursorChar } = props\n  const cursor = document.createElement('span')\n  cursor.classList.add('ityped-cursor')\n  cursor.textContent = cursorChar\n  return cursor\n}\n\nexport const insertCursor = (element, cursor, props) => \n  props.showCursor \n  ? element.insertAdjacentElement('afterend', cursor)\n  : null","const typeString = (word, i, el, props) => {\n  if (i === word.length - 1) {\n    return window.setTimeout(() => {\n      let k = 0\n      for (let l = word.length - 1; l >= 0; l--) {\n        k += 1\n        if (props.disableBackTyping && (props.strings.indexOf(word) === props.strings.length - 1)) {\n          return props.onFinished()\n        }\n        setTimeout(() => eraseString(l, el, props, word), props.backSpeed * k)\n      }\n    }, props.backDelay)\n  }\n  el.innerHTML += word[i]\n}\n\nconst isLastLetterOfLastString = (word, props) => \n  props.strings.indexOf(word) === props.strings.length - 1\n\nconst eraseString = (i, el, props, word) => {\n  el.innerHTML = el.innerHTML.substring(0, --i)\n  if (i === 0\n    && isLastLetterOfLastString(word, props)\n    && props.loop\n  ) {\n    start(el, props)\n  } else if (isLastLetterOfLastString(word, props) && !props.loop) {\n    props.onFinished()\n  }\n}\n\nconst writeString = (el, position, props, time) => {\n  const word = props.strings[position]\n  let i = 0\n  const startTick = window.setTimeout(\n    () => {\n      Array.from(word)\n        .forEach((letter, i) =>\n          setTimeout(() => typeString(word, i, el, props), props.typeSpeed * (i + 1))\n        )\n    }, time)\n}\n\nexport const start = (element, props) => {\n  const times = []\n  const { strings, startDelay, typeSpeed, backSpeed, backDelay, loop } = props\n  const arrLen = strings.length\n  for (let i = 0; i < arrLen; i++) {\n    const len = strings[i].length\n    const nextTime = (len * typeSpeed) + startDelay + (len * backSpeed) + backDelay\n    times.push(nextTime)\n    const time = i === 0 ? startDelay : times[i - 1]\n    writeString(element, i, props, time)\n  }\n}","import { setProps } from './props'\nimport { getElement } from './element'\nimport { insertCursor, getCursor } from './cursor'\nimport { start } from './writing'\n\nconst init = (el, config) => {\n  const \n    props = setProps(config || {}), \n    element = getElement(el)\n  insertCursor(element, getCursor(props), props)\n  start(element, props)\n}\n\nexport {\n  init\n}"],"names":["setProps","strings","typeSpeed","backSpeed","backDelay","startDelay","cursorChar","showCursor","disableBackTyping","onFinished","loop","getElement","element","document","querySelector","getCursor","props","cursor","createElement","classList","add","textContent","insertCursor","insertAdjacentElement","typeString","word","i","el","length","window","setTimeout","k","l","indexOf","eraseString","innerHTML","isLastLetterOfLastString","substring","writeString","position","time","startTick","from","forEach","letter","start","times","arrLen","len","nextTime","push","init","config"],"mappings":";;;;;;;;;;;;AAAA;;;;;;AAMA,AAAO,IAAMA,WAAW,SAAXA,QAAW;0BACtBC,OADsB;MACtBA,OADsB,gCACZ,CAAC,0BAAD,EAA6B,YAA7B,CADY;4BAEtBC,SAFsB;MAEtBA,SAFsB,kCAEV,GAFU;4BAGtBC,SAHsB;MAGtBA,SAHsB,kCAGV,EAHU;4BAItBC,SAJsB;MAItBA,SAJsB,kCAIV,GAJU;6BAKtBC,UALsB;MAKtBA,UALsB,mCAKT,GALS;6BAMtBC,UANsB;MAMtBA,UANsB,mCAMT,GANS;6BAOtBC,UAPsB;MAOtBA,UAPsB,mCAOT,IAPS;mCAQtBC,iBARsB;MAQtBA,iBARsB,yCAQF,KARE;6BAStBC,UATsB;MAStBA,UATsB,mCASR,YAAU,EATF;uBAUtBC,IAVsB;MAUtBA,IAVsB,6BAUf,IAVe;SAWjB;oBAAA;wBAAA;wBAAA;0BAAA;wBAAA;0BAAA;0BAAA;cAAA;wCAAA;;GAXiB;CAAjB;;ACNA,IAAMC,aAAa,SAAbA,UAAa;SACxB,OAAOC,OAAP,KAAmB,QAAnB,GACIC,SAASC,aAAT,CAAuBF,OAAvB,CADJ,GAEIA,OAHoB;CAAnB;;ACAA,IAAMG,YAAY,SAAZA,SAAY,QAAU;MACzBT,UADyB,GACVU,KADU,CACzBV,UADyB;;MAE3BW,SAASJ,SAASK,aAAT,CAAuB,MAAvB,CAAf;SACOC,SAAP,CAAiBC,GAAjB,CAAqB,eAArB;SACOC,WAAP,GAAqBf,UAArB;SACOW,MAAP;CALK;;AAQP,AAAO,IAAMK,eAAe,SAAfA,YAAe,CAACV,OAAD,EAAUK,MAAV,EAAkBD,KAAlB;SAC1BA,MAAMT,UAAN,GACEK,QAAQW,qBAAR,CAA8B,UAA9B,EAA0CN,MAA1C,CADF,GAEE,IAHwB;CAArB;;;;ACRP,IAAMO,aAAa,SAAbA,UAAa,CAACC,IAAD,EAAOC,CAAP,EAAUC,EAAV,EAAcX,KAAd,EAAwB;MACrCU,MAAMD,KAAKG,MAAL,GAAc,CAAxB,EAA2B;WAClBC,OAAOC,UAAP,CAAkB,YAAM;UACzBC,IAAI,CAAR;;iCACSC,CAFoB;aAGtB,CAAL;YACIhB,MAAMR,iBAAN,IAA4BQ,MAAMf,OAAN,CAAcgC,OAAd,CAAsBR,IAAtB,MAAgCT,MAAMf,OAAN,CAAc2B,MAAd,GAAuB,CAAvF,EAA2F;;eAClFZ,MAAMP,UAAN;;;mBAEE;iBAAMyB,YAAYF,CAAZ,EAAeL,EAAf,EAAmBX,KAAnB,EAA0BS,IAA1B,CAAN;SAAX,EAAkDT,MAAMb,SAAN,GAAkB4B,CAApE;;;WALG,IAAIC,IAAIP,KAAKG,MAAL,GAAc,CAA3B,EAA8BI,KAAK,CAAnC,EAAsCA,GAAtC,EAA2C;yBAAlCA,CAAkC;;;;KAFtC,EASJhB,MAAMZ,SATF,CAAP;;KAWC+B,SAAH,IAAgBV,KAAKC,CAAL,CAAhB;CAbF;;AAgBA,IAAMU,2BAA2B,SAA3BA,wBAA2B,CAACX,IAAD,EAAOT,KAAP;SAC/BA,MAAMf,OAAN,CAAcgC,OAAd,CAAsBR,IAAtB,MAAgCT,MAAMf,OAAN,CAAc2B,MAAd,GAAuB,CADxB;CAAjC;;AAGA,IAAMM,cAAc,SAAdA,WAAc,CAACR,CAAD,EAAIC,EAAJ,EAAQX,KAAR,EAAeS,IAAf,EAAwB;KACvCU,SAAH,GAAeR,GAAGQ,SAAH,CAAaE,SAAb,CAAuB,CAAvB,EAA0B,EAAEX,CAA5B,CAAf;MACIA,MAAM,CAAN,IACCU,yBAAyBX,IAAzB,EAA+BT,KAA/B,CADD,IAECA,MAAMN,IAFX,EAGE;UACMiB,EAAN,EAAUX,KAAV;GAJF,MAKO,IAAIoB,yBAAyBX,IAAzB,EAA+BT,KAA/B,KAAyC,CAACA,MAAMN,IAApD,EAA0D;UACzDD,UAAN;;CARJ;;AAYA,IAAM6B,cAAc,SAAdA,WAAc,CAACX,EAAD,EAAKY,QAAL,EAAevB,KAAf,EAAsBwB,IAAtB,EAA+B;MAC3Cf,OAAOT,MAAMf,OAAN,CAAcsC,QAAd,CAAb;MAEME,YAAYZ,OAAOC,UAAP,CAChB,YAAM;UACEY,IAAN,CAAWjB,IAAX,EACGkB,OADH,CACW,UAACC,MAAD,EAASlB,CAAT;aACPI,WAAW;eAAMN,WAAWC,IAAX,EAAiBC,CAAjB,EAAoBC,EAApB,EAAwBX,KAAxB,CAAN;OAAX,EAAiDA,MAAMd,SAAN,IAAmBwB,IAAI,CAAvB,CAAjD,CADO;KADX;GAFc,EAMbc,IANa,CAAlB;CAHF;;AAYA,AAAO,IAAMK,QAAQ,SAARA,KAAQ,CAACjC,OAAD,EAAUI,KAAV,EAAoB;MACjC8B,QAAQ,EAAd;MACQ7C,OAF+B,GAEgCe,KAFhC,CAE/Bf,OAF+B;MAEtBI,UAFsB,GAEgCW,KAFhC,CAEtBX,UAFsB;MAEVH,SAFU,GAEgCc,KAFhC,CAEVd,SAFU;MAECC,SAFD,GAEgCa,KAFhC,CAECb,SAFD;MAEYC,SAFZ,GAEgCY,KAFhC,CAEYZ,SAFZ;MAEuBM,IAFvB,GAEgCM,KAFhC,CAEuBN,IAFvB;;MAGjCqC,SAAS9C,QAAQ2B,MAAvB;OACK,IAAIF,IAAI,CAAb,EAAgBA,IAAIqB,MAApB,EAA4BrB,GAA5B,EAAiC;QACzBsB,MAAM/C,QAAQyB,CAAR,EAAWE,MAAvB;QACMqB,WAAYD,MAAM9C,SAAP,GAAoBG,UAApB,GAAkC2C,MAAM7C,SAAxC,GAAqDC,SAAtE;UACM8C,IAAN,CAAWD,QAAX;QACMT,OAAOd,MAAM,CAAN,GAAUrB,UAAV,GAAuByC,MAAMpB,IAAI,CAAV,CAApC;gBACYd,OAAZ,EAAqBc,CAArB,EAAwBV,KAAxB,EAA+BwB,IAA/B;;CATG;;ACtCP,IAAMW,OAAO,SAAPA,IAAO,CAACxB,EAAD,EAAKyB,MAAL,EAAgB;MAEzBpC,QAAQhB,SAASoD,UAAU,EAAnB,CADV;MAEExC,UAAUD,WAAWgB,EAAX,CAFZ;eAGaf,OAAb,EAAsBG,UAAUC,KAAV,CAAtB,EAAwCA,KAAxC;QACMJ,OAAN,EAAeI,KAAf;CALF;;;;;;;;;;;;"}