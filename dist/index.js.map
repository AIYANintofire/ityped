{"version":3,"file":"index.js","sources":["../src/props.js","../src/element.js","../src/cursor.js","../src/writing.js","../src/index.js"],"sourcesContent":["/**\n * @name setProps\n * @description Set the ityped properties configuration\n * @param {Object} config The configuration properties\n * @return {Promise}\n */\nexport const setProps = ({\n  strings = ['Put your strings here...', 'and Enjoy!'],\n  typeSpeed = 100,\n  backSpeed = 100,\n  backDelay = 1200,\n  startDelay = 100,\n  cursorChar = '|',\n  showCursor = true,\n  stopLastWord = false,\n  onFinished =  function(){},\n  loop = true\n}) => ({\n  strings,\n  typeSpeed,\n  backSpeed,\n  cursorChar,\n  backDelay,\n  startDelay,\n  showCursor,\n  loop,\n  stopLastWord,  \n  onFinished\n})","export const appendElement = parent => child => document.querySelector(parent).appendChild(child)\nexport const getElement = el => document.querySelector(el)","export const getCursor = props  => {\n  const { cursorChar } = props\n  const cursor = document.createElement('span')\n  cursor.classList.add('ityped-cursor')\n  cursor.textContent = cursorChar\n  return cursor\n}\n\nexport const insertCursor = (element, cursor, props) => \n  props.showCursor \n  ? element.insertAdjacentElement('afterend', cursor)\n  : null","const typeString = (word, i, el, props) => {\n  if (i === word.length - 1) {\n    return window.setTimeout(() => {\n      let k = 0\n      for (let l = word.length -1; l >= 0; l--) {\n        k += 1\n        console.log(props.stopLastWord)\n        if (props.stopLastWord && ( props.strings.indexOf(word) === props.strings.length - 1)) {\n          return props.onFinished()\n        }\n        setTimeout(() => eraseString(l, el, props, word), props.backSpeed * k)\n      }\n    }, props.backDelay)\n  }\n  el.innerHTML += word[i]\n}\n\nconst eraseString = ( i, el, props, word ) => {\n  el.innerHTML = el.innerHTML.substring(0, --i)\n  if ( i === 0 \n      && props.strings.indexOf(word) === props.strings.length - 1 \n      && props.loop\n  ) {\n    props.onFinished ? props.onFinished() : null\n    start(el, props)\n  }\n}\n\nconst writeString = (el, position, props, time) => {\n  const word = props.strings[position]\n  let i = 0\n  const startTick = window.setTimeout(\n    () => {\n      Array.from(word)\n        .forEach((letter, i) =>\n          setTimeout(() => typeString(word, i, el, props), props.typeSpeed * (i + 1))\n        )\n    }, time)\n}\n\nexport const start = (element, props) => {\n  const times = []\n  const { strings, startDelay, typeSpeed, backSpeed, backDelay, loop } = props\n  const len = strings.length\n  for (let i=0; i < strings.length; i++) {\n    const len = strings[i].length\n    const nextTime = (len * typeSpeed) + startDelay + ( len * backSpeed ) + backDelay\n    times.push(nextTime)\n    const time = i === 0 ? startDelay : times[i-1]\n    writeString(element, i, props, time)\n  }\n}","import { setProps } from './props'\nimport { getElement } from './element'\nimport { insertCursor, getCursor } from './cursor'\nimport { start } from './writing'\n\nconst init = (el, config) => {\n  const props = setProps(config), element = getElement(el)\n  insertCursor(element, getCursor(props), props)\n  start(element, props)\n}\n\nexport {\n  init\n}"],"names":["setProps","strings","typeSpeed","backSpeed","backDelay","startDelay","cursorChar","showCursor","stopLastWord","onFinished","loop","getElement","document","querySelector","el","getCursor","props","cursor","createElement","classList","add","textContent","insertCursor","element","insertAdjacentElement","typeString","word","i","length","window","setTimeout","k","l","log","indexOf","eraseString","innerHTML","substring","writeString","position","time","startTick","from","forEach","letter","start","times","len","nextTime","push","init","config"],"mappings":"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"}