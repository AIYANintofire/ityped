{"version":3,"file":"index.min.js","sources":["../src/index.js"],"sourcesContent":["\nconst getCursor = () => {\n  const cursor = document.createElement('span');\n  cursor.classList.add('ityped-cursor');\n  cursor.textContent = '|';\n  return cursor\n}\n\n/**\n * @name setProps\n * @description Set the ityped properties configuration\n * @param {Object} config The configuration properties\n * @return {Promise}\n */\nconst setProps = ({\n  strings = ['AEIOU asiahsa skaonsa' , 'SZsiasa'],\n  typeSpeed = 200,\n  backSpeed = 400,\n  backDelay = 1000,\n  startDelay = 100,\n  showCursor = true,\n  loop = false\n}) => ({ strings, typeSpeed, backSpeed, backDelay, startDelay, showCursor, loop })\n\nconst insertCursor = (element, cursor) => element.insertAdjacentElement('afterend', cursor);\nconst appendElement = parent => child => document.querySelector(parent).appendChild(child)\nconst getElement = el => document.querySelector(el)\n\nconst init = (el, config) => {\n  const props = setProps(config)\n  const initCursor = appendElement(el)\n  insertCursor(getElement(el), getCursor())\n  walkWithWords(el, props)\n}\n\n// Pega o array e itera na primeira posição\nconst walkWithWords = (el, { strings, typeSpeed, backSpeed, backDelay, startDelay, showCursor, loop }) => {\n  const element = getElement(el)\n  const times = []\n  strings.forEach((string, index) => {\n    (( i ) => {\n      const len = string.length - 1\n      const time = startDelay + (len * typeSpeed) + (len * backSpeed)\n      times.push(time)\n      const nextTime = times[i-1]\n      const t = window.setTimeout(\n        () => \n        incrementWord(\n          i,\n          times[i],\n          element,\n          { strings, typeSpeed, backSpeed, backDelay, startDelay, showCursor, loop }\n        )(decrementWord)\n\n      , i === 0 ? startDelay : nextTime )\n    })(index)\n  })\n}\n\nconst incrementWord = (\n  i, \n  time,\n  el,\n  { strings, typeSpeed, backSpeed, backDelay, startDelay, showCursor, loop }\n) => {\n  return decrement => {\n    window.setTimeout(() => {\n      Array.prototype.forEach.call(strings[i]), (letter, index, arr) => {\n          const t = window.setTimeout( () => {\n            el.innerHTML += letter\n            console.log(index)\n            if ( index === arr.length - 1 ) {\n              window.clearTimeout(t)\n              decrement(i, time, el, { strings, typeSpeed, backSpeed, backDelay, startDelay, showCursor, loop })\n            }\n          }, typeSpeed * index)\n        }\n    }, i === 0 ? startDelay : time )\n  }\n}\n\nconst decrementWord = (\n  i,\n  time,\n  el,\n  { strings, typeSpeed, backSpeed, backDelay, startDelay, showCursor, loop }\n) => {\n    window.setTimeout(() => {\n      console.log('On decrement', time)\n      Array.prototype.forEach.call(strings[i], (letter, index, arr) => {\n        const position = el.innerHTML.length - index\n        const tick = window.setTimeout(() => {\n          index === arr.length - 1\n            ? el.innerHTML = el.innerHTML.substring(0, position - 1)\n            : el.innerHTML = el.innerHTML.substring(0, position)\n          if (index === arr.length - 1) {\n            window.clearTimeout(tick)\n            if (loop) walkWithWords(el, { strings, typeSpeed, backSpeed, backDelay, startDelay, showCursor, loop })\n          }\n        }, backSpeed * index)\n      })\n    }, i === 0 ? backDelay : time )\n\n}\n\nexport { init }"],"names":["getElement","document","querySelector","el","walkWithWords","strings","typeSpeed","backSpeed","backDelay","startDelay","showCursor","loop","element","times","forEach","string","index","i","len","length","time","push","nextTime","window","setTimeout","incrementWord","decrementWord","prototype","call","log","letter","arr","position","innerHTML","tick","substring","clearTimeout","config","props","setProps","cursor","createElement","classList","add","textContent","getCursor","insertAdjacentElement"],"mappings":"yLACA,IAyBMA,EAAa,mBAAMC,SAASC,cAAcC,IAU1CC,EAAgB,SAACD,SAAME,IAAAA,QAASC,IAAAA,UAAWC,IAAAA,UAAWC,IAAAA,UAAWC,IAAAA,WAAYC,IAAAA,WAAYC,IAAAA,KACvFC,EAAUZ,EAAWG,GACrBU,OACEC,QAAQ,SAACC,EAAQC,aACpBC,OACKC,EAAMH,EAAOI,OAAS,EACtBC,EAAOX,EAAcS,EAAMZ,EAAcY,EAAMX,IAC/Cc,KAAKD,OACLE,EAAWT,EAAMI,EAAE,GACfM,OAAOC,WACf,kBACAC,EACER,EACAJ,EAAMI,GACNL,GACEP,UAASC,YAAWC,YAAWC,YAAWC,aAAYC,aAAYC,QAJtEc,CAKEC,IAEI,IAANT,EAAUR,EAAaa,IACxBN,MAIDS,EAAgB,SACpBR,EACAG,EACAjB,SACEE,IAAAA,QAA0CI,KAAjCH,YAAWC,YAAWC,YAAWC,cAAYC,aAAYC,YAE7D,mBACEa,WAAW,iBACVG,UAAUb,QAAQc,KAAKvB,EAAQY,KAU9B,IAANA,EAAUR,EAAaW,KAIxBM,EAAgB,SACpBT,EACAG,EACAjB,SACEE,IAAAA,QAASC,IAAAA,UAAWC,IAAAA,UAAWC,IAAAA,UAAWC,IAAAA,WAAYC,IAAAA,WAAYC,IAAAA,YAE3Da,WAAW,mBACRK,IAAI,eAAgBT,SACtBO,UAAUb,QAAQc,KAAKvB,EAAQY,GAAI,SAACa,EAAQd,EAAOe,OACjDC,EAAW7B,EAAG8B,UAAUd,OAASH,EACjCkB,EAAOX,OAAOC,WAAW,eACnBO,EAAIZ,OAAS,EACnBhB,EAAG8B,UAAY9B,EAAG8B,UAAUE,UAAU,EAAGH,EAAW,GACpD7B,EAAG8B,UAAY9B,EAAG8B,UAAUE,UAAU,EAAGH,GACzChB,IAAUe,EAAIZ,OAAS,WAClBiB,aAAaF,GAChBvB,GAAMP,EAAcD,GAAME,UAASC,YAAWC,YAAWC,YAAWC,aAAYC,aAAYC,WAEjGJ,EAAYS,MAEV,IAANC,EAAUT,EAAYY,WAzEhB,SAACjB,EAAIkC,OACVC,EAfS,oBACfjC,QAAAA,cAAW,wBAA0B,iBACrCC,UAAAA,aAAY,UACZC,UAAAA,aAAY,UACZC,UAAAA,aAAY,UACZC,WAAAA,aAAa,UACbC,WAAAA,oBACAC,YACON,UAASC,YAAWC,YAAWC,YAAWC,aAAYC,aAAYC,oBAO3D4B,CAASF,GALHzB,EAOPZ,EAAWG,GAPKqC,EAvBb,eACVA,EAASvC,SAASwC,cAAc,iBAC/BC,UAAUC,IAAI,mBACdC,YAAc,IACdJ,EA0BsBK,GAPWjC,EAAQkC,sBAAsB,WAAYN,GAA/D,IAAC5B,EAAS4B,IAQfrC,EAAImC"}