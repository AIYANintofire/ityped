{"version":3,"file":"index.min.js","sources":["../src/index.js"],"sourcesContent":["const getCursor = () => {\n  const cursor = document.createElement('span');\n  cursor.classList.add('ityped-cursor');\n  cursor.textContent = '|';\n  return cursor\n}\n\nconst insertCursor = (element, cursor) => element.insertAdjacentElement('afterend', cursor);\nconst appendElement = parent => child => document.querySelector(parent).appendChild(child)\nconst getElement = el => document.querySelector(el)\n\n\n/**\n * @name setProps\n * @description Set the ityped properties configuration\n * @param {Object} config The configuration properties\n * @return {Promise}\n */\nconst setProps = ({\n  strings = ['AEIOU asiahsa skaonsa', 'SZsiasa'],\n  typeSpeed = 100,\n  backSpeed = 300,\n  backDelay = 100,\n  startDelay = 100,\n  showCursor = true,\n  loop = true\n}) => ({\n  strings,\n  typeSpeed,\n  backSpeed,\n  backDelay,\n  startDelay,\n  showCursor,\n  loop\n})\n\nconst startLoop = (element, props) => {\n  const times = []\n  const { strings, startDelay, typeSpeed, backSpeed, backDelay, loop } = props\n  const len = strings.length\n  for (let i=0; i < strings.length; i++) {\n    const len = strings[i].length\n    const nextTime = (len * typeSpeed) + startDelay + ( len * backSpeed ) + backDelay\n    times.push(nextTime)\n    const time = i === 0 ? startDelay : times[i-1]\n    startWriting(element, i, props, time)\n  }\n}\nconst init = (el, config) => {\n  const props = setProps(config)\n  const element = getElement(el)\n  const initCursor = appendElement(el)\n  insertCursor(element, getCursor())\n  const times = []\n  startLoop(element, props)\n}\n\nconst startWriting = (el, position, props, time) => {\n  const word = props.strings[position]\n  let i = 0\n  const startTick = window.setTimeout(() => {\n    Array.from(word)\n      .forEach((letter, i) =>\n        setTimeout(() => typeString(word, i, el, props), props.typeSpeed * (i + 1))\n      )\n  }, time)\n}\n\nconst typeString = (word, i, el, props) => {\n  if (i === word.length - 1) {\n    return window.setTimeout(() => {\n      let k = 0\n      let tick\n      for (let l = word.length -1; l >= 0; l--) {\n        k += 1\n        tick = setTimeout(() => eraseString(l, el, props, word), props.backSpeed * k)\n      }\n      clearTimeout(tick)\n    }, props.backDelay)\n  }\n  el.innerHTML += word[i]\n}\n\nconst eraseString = ( i, el, props, word ) => {\n  el.innerHTML = el.innerHTML.substring(0, --i)\n  if ( i === 0 && props.strings.indexOf(word) === props.strings.length - 1 && props.loop) {\n      startLoop(el, props)\n  }\n}\n\n\nexport {\n  init\n}"],"names":["startLoop","element","props","times","strings","startDelay","typeSpeed","backSpeed","backDelay","i","loop","length","len","nextTime","push","time","startWriting","el","position","word","window","setTimeout","from","forEach","letter","typeString","k","tick","l","eraseString","innerHTML","substring","indexOf","config","showCursor","setProps","document","querySelector","cursor","createElement","classList","add","textContent","getCursor","insertAdjacentElement"],"mappings":"yLAAA,IAoCMA,EAAY,SAACC,EAASC,OAIrB,IAHCC,KACEC,EAA+DF,EAA/DE,QAASC,EAAsDH,EAAtDG,WAAYC,EAA0CJ,EAA1CI,UAAWC,EAA+BL,EAA/BK,UAAWC,EAAoBN,EAApBM,UAE1CC,GAF8DP,EAATQ,KAClDN,EAAQO,OACT,GAAGF,EAAIL,EAAQO,OAAQF,IAAK,KAC/BG,EAAMR,EAAQK,GAAGE,OACjBE,EAAYD,EAAMN,EAAaD,EAAeO,EAAML,EAAcC,IAClEM,KAAKD,OACLE,EAAa,IAANN,EAAUJ,EAAaF,EAAMM,EAAE,KAC/BR,EAASQ,EAAGP,EAAOa,KAY9BC,EAAe,SAACC,EAAIC,EAAUhB,EAAOa,OACnCI,EAAOjB,EAAME,QAAQc,GAETE,OAAOC,WAAW,iBAC5BC,KAAKH,GACRI,QAAQ,SAACC,EAAQf,UAChBY,WAAW,kBAAMI,EAAWN,EAAMV,EAAGQ,EAAIf,IAAQA,EAAMI,WAAaG,EAAI,OAE3EM,IAGCU,EAAa,SAACN,EAAMV,EAAGQ,EAAIf,MAC3BO,IAAMU,EAAKR,OAAS,SACfS,OAAOC,WAAW,eAGlB,IAFDK,EAAI,EACJC,SACKC,EAAIT,EAAKR,OAAQ,EAAGiB,GAAK,EAAGA,IAA5BA,EAAAA,KACF,IACEP,WAAW,kBAAMQ,EAAYD,EAAGX,EAAIf,EAAOiB,IAAOjB,EAAMK,UAAYmB,OAFpEE,eAIID,IACZzB,EAAMM,aAERsB,WAAaX,EAAKV,IAGjBoB,EAAc,SAAEpB,EAAGQ,EAAIf,EAAOiB,KAC/BW,UAAYb,EAAGa,UAAUC,UAAU,IAAKtB,GAChC,IAANA,GAAWP,EAAME,QAAQ4B,QAAQb,KAAUjB,EAAME,QAAQO,OAAS,GAAKT,EAAMQ,QACpEO,EAAIf,WAtCP,SAACe,EAAIgB,SACV/B,EA/BS,oBACfE,QAAAA,cAAW,wBAAyB,iBACpCE,UAAAA,aAAY,UACZC,UAAAA,aAAY,UACZC,UAAAA,aAAY,UACZH,WAAAA,aAAa,UACb6B,WAAAA,oBACAxB,wGAwBcyB,CAASF,GACjBhC,KAAqBgB,EAzCJmB,SAASC,cAAcpB,IAF1BhB,EA6CPA,EA7CgBqC,EAPb,eACVA,EAASF,SAASG,cAAc,iBAC/BC,UAAUC,IAAI,mBACdC,YAAc,IACdJ,EAgDeK,GA7CkB1C,EAAQ2C,sBAAsB,WAAYN,GAA/D,IAACrC,EAASqC,IA+CnBrC,EAASC"}